<html>
<head>
    <!--Load the AJAX API-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <section class="content-header">
                <h1>
                    Bienvenido:@ViewBag.Usuario
                    <small>(Consultar)</small>
                </h1>
                @*<ol class="breadcrumb">
                    <li><a href="#"> <i class="fa fa-dashboard"></i> Inicio </a></li>
                    <li> <a href="#">Consultar</a></li>
                    <li class="active">Gráfica </li>
                </ol>*@
            </section>
            <br />
        </div>
        <div class="row">
            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            Grafica de Pastel
                        </div>
                    </div>
                    <div class="panel-body">
                        <canvas id="pie" style="width:50px"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                           Visualización de Datos
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                           <table class="table table-responsive">
                               <thead>
                                   <tr>
                                    <th>Sección #32</th>
                                    <th>Sección #33</th>
                                    <th>Sección #34</th>
                                    <th>Sección #35</th>
                                    <th>Sección #36</th>
                                    <th>Sección #37</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr>
                                       <td style="background-color:rgba(255, 99, 132, 0.5);text-align:center">45</td>
                                       <td style="background-color:rgba(54, 162, 235, 0.5);text-align:center">23</td>
                                       <td style="background-color:rgba(255, 206, 86, 0.5);text-align:center">65</td>
                                       <td style="background-color:rgba(75, 192, 192, 0.5);text-align:center">76</td>
                                       <td style="background-color:rgba(153, 102, 255, 0.5);text-align:center">67</td>
                                       <td style="background-color:rgba(255, 159, 64, 0.5);text-align:center">54</td>
                                   </tr>
                               </tbody>
                           </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-4 ">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            Grafica Lineal
                        </div>
                    </div>
                    <div class="panel-body">
                        <canvas id="line" style="width:50px"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            Controles de Filtrado
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label>Sección 30</label>
                                    <input type="text" class="form-control" id="30" />
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 31</label>
                                    <input type="text" class="form-control" id="31"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 32</label>
                                    <input type="text" class="form-control" id="32"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4">
                                    <label>Sección 33</label>
                                    <input type="text" class="form-control" id="33"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 34</label>
                                    <input type="text" class="form-control" id="34"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 35</label>
                                    <input type="text" class="form-control" id="35"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <input type="button" id="btnLine" value="Calcular" class="btn btn-sm btn-success" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            Grafica de Barras
                        </div>
                    </div>
                    <div class="panel-body">
                        <canvas id="bar" style="width:50px"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            Controles de Filtrado
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label>Sección 30</label>
                                    <input type="text" class="form-control" id="36"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 31</label>
                                    <input type="text" class="form-control" id="37"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 32</label>
                                    <input type="text" class="form-control" id="38"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4">
                                    <label>Sección 33</label>
                                    <input type="text" class="form-control" id="39"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 34</label>
                                    <input type="text" class="form-control" id="40"/>
                                </div>
                                <div class="col-lg-4">
                                    <label>Sección 35</label>
                                    <input type="text" class="form-control" id="41"/>
                                </div>
                            </div>         
                            <div class="row">
                                <div class="col-lg-12">
                                    <input type="button" id="btnBar" value="Calcular" class="btn btn-sm btn-success"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>


<script>
   
    
    $(document).ready(function () {

        var ctxpie = document.getElementById('pie').getContext('2d');
        var ctxline = document.getElementById('line').getContext('2d');
        var ctxbar = document.getElementById('bar').getContext('2d');

        var pie = new Chart(ctxpie, {
                type: 'pie',
                data: {
                    labels: ['32', '33', '34', '35', '36', '37'],
                    datasets: [{
                        label: 'Votos',
                        data: [45,23,65,76,67,54],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(54, 162, 235, 0.5)',
                            'rgba(255, 206, 86, 0.5)',
                            'rgba(75, 192, 192, 0.5)',
                            'rgba(153, 102, 255, 0.5)',
                            'rgba(255, 159, 64, 0.5)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
        });

        $('#btnLine').click(evt = () =>
        {
            let dataValue = [];
            let dataValue2 = [];

            dataValue[0] = $('#30').val();
            dataValue[1] = $('#31').val();
            dataValue[2] = $('#32').val();

            dataValue2[0] = $('#33').val();
            dataValue2[1] = $('#34').val();
            dataValue2[2] = $('#35').val();

             var line = new Chart(ctxline, {
                type: 'line',
                data: {
                    labels: ['30', '31', '32'],
                    datasets: [{
                        label: 'Secciones y Votos',
                        data: dataValue,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1,
                        fill:true
                    },
                    {
                        label: 'Secciones y Votos',
                        data: dataValue2,
                        backgroundColor: [
                            'rgba(244, 208, 63, 0.5)'
                        ],
                        borderColor: [
                            'rgba(244, 208, 63, 1)'
                        ],
                        borderWidth: 1,
                        fill: true
                    }
                    ]
                 }
                 ,
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
            });
        })

        $('#btnBar').click(evt = () => {

            let dataValue = [];

            dataValue[0] = $('#36').val();
            dataValue[1] = $('#37').val();
            dataValue[2] = $('#38').val();
            dataValue[3] = $('#39').val();
            dataValue[4] = $('#40').val();
            dataValue[5] = $('#41').val();

             var bar = new Chart(ctxbar, {
                type: 'bar',
                data: {
                    labels: ['36', '37', '38', '39', '40', '41'],
                    datasets: [{
                        label: 'Secciones y Votos',
                        data: dataValue,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(54, 162, 235, 0.5)',
                            'rgba(255, 206, 86, 0.5)',
                            'rgba(255, 206, 86, 0.5)',
                            'rgba(153, 102, 255, 0.5)',
                            'rgba(255, 159, 64, 0.5)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
            });
        })
    });

</script>